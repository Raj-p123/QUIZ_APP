<div class="my-quizzes-wrapper">

  <!-- HEADER -->
  <header class="page-header">
    <div class="header-left">
      <h1>My Quizzes</h1>
      <p>Manage, monitor and refine your assessments</p>
    </div>

    <div class="header-actions">
      <button class="btn-secondary" routerLink="/teacher-dashboard">
        â† Dashboard
      </button>

      <button class="btn-primary" routerLink="/create-quiz">
        + Create Quiz
      </button>
    </div>
  </header>


  <!-- STATS -->
  <section class="stats-grid">
    <div class="stat-card">
      <div class="stat-content">
        <span>Total Quizzes</span>
        <h3>{{ totalQuizzes }}</h3>
      </div>
      <div class="stat-icon total">ğŸ“š</div>
    </div>

    <div class="stat-card">
      <div class="stat-content">
        <span>Drafts</span>
        <h3>{{ draftQuizzes }}</h3>
      </div>
      <div class="stat-icon draft">âœï¸</div>
    </div>

    <div class="stat-card">
      <div class="stat-content">
        <span>Published</span>
        <h3>{{ publishedQuizzes }}</h3>
      </div>
      <div class="stat-icon published">ğŸš€</div>
    </div>
  </section>


  <!-- SEARCH + FILTER -->
  <div class="toolbar">
    <div class="search-box">
      <span>ğŸ”</span>
      <input
        type="text"
        placeholder="Search quiz by name..."
        [(ngModel)]="searchText"
        (input)="loadQuizzes()"
      />
    </div>

    <select class="filter-dropdown">
      <option>All</option>
      <option>Published</option>
      <option>Draft</option>
    </select>
  </div>


  <!-- QUIZ LIST -->
  <section class="quiz-container">
    <ng-container *ngIf="quizzes$ | async as quizzes; else loading">

      <div class="quiz-item" *ngFor="let quiz of quizzes">

        <div class="quiz-left">
          <h3 class="quiz-title">{{ quiz.title }}</h3>

          <div class="quiz-meta">
            <span class="status"
                  [class.published]="quiz.published">
              <span class="status-dot"></span>
              {{ quiz.published ? 'Published' : 'Draft' }}
            </span>

            <span class="meta-divider"></span>
            <span class="meta-text">Modified 2 days ago</span>
            <span class="meta-divider"></span>
            <span class="meta-text">12 Questions</span>
          </div>
        </div>


        <div class="quiz-actions">

          <!-- Published -->
          <button
            *ngIf="quiz.published"
            class="btn-primary small"
            [routerLink]="['/teacher/quizzes', quiz.id, 'view']">
            View
          </button>

          <!-- Draft -->
          <button
            *ngIf="!quiz.published"
            class="btn-primary small"
            [routerLink]="['/teacher/quizzes', quiz.id, 'edit']">
            Edit
          </button>

          <button
            *ngIf="!quiz.published"
            class="btn-ghost-danger small"
            (click)="deleteQuiz(quiz.id)">
            Delete
          </button>

        </div>

      </div>


      <!-- EMPTY STATE -->
      <div class="empty-state" *ngIf="quizzes.length === 0">
        <div class="empty-icon">ğŸ“‚</div>
        <h3>No quizzes found</h3>
        <p>Start by creating your first quiz.</p>
        <button class="btn-primary" routerLink="/create-quiz">
          + Create Quiz
        </button>
      </div>

    </ng-container>


    <!-- LOADING -->
    <ng-template #loading>
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Fetching your quizzes...</p>
      </div>
    </ng-template>
  </section>

</div>