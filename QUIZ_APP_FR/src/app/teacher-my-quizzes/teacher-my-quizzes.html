<div class="my-quizzes-wrapper">
  <header class="page-header">
    <div class="header-content">
      <div class="title-area">
        <h1>My Quizzes</h1>
        <p>Manage and track the performance of your assessments</p>
      </div>
      <button class="back-dashboard-btn" routerLink="/teacher-dashboard">
        <span class="icon">â†</span> Back to Dashboard
      </button>
    </div>
  </header>

  <section class="stats-grid">
    <div class="stat-card total">
      <div class="stat-info">
        <span class="label">Total Quizzes</span>
        <h3 class="value">{{ totalQuizzes }}</h3>
      </div>
      <div class="stat-icon">ğŸ“š</div>
    </div>

    <div class="stat-card draft">
      <div class="stat-info">
        <span class="label">Drafts</span>
        <h3 class="value">{{ draftQuizzes }}</h3>
      </div>
      <div class="stat-icon">âœï¸</div>
    </div>

    <div class="stat-card published">
      <div class="stat-info">
        <span class="label">Published</span>
        <h3 class="value">{{ publishedQuizzes }}</h3>
      </div>
      <div class="stat-icon">ğŸš€</div>
    </div>
  </section>

  <div class="action-bar">
    <div class="search-box">
      <span class="search-icon">ğŸ”</span>
      <input
        type="text"
        placeholder="Search quiz by name..."
        [(ngModel)]="searchText"
        (input)="loadQuizzes()"
      />
    </div>
  </div>

  <section class="quiz-container">
    <ng-container *ngIf="quizzes$ | async as quizzes; else loading">
      
      <div class="quiz-item" *ngFor="let quiz of quizzes">
        <div class="quiz-main-info">
          <div class="quiz-details">
            <h3 class="quiz-title">{{ quiz.title }}</h3>
            <div class="quiz-meta">
              <span class="status-badge" [class.is-published]="quiz.published">
                {{ quiz.published ? 'Published' : 'Draft' }}
              </span>
              <span class="dot"></span>
              <span class="meta-text">Modified 2 days ago</span>
            </div>
          </div>
        </div>

        <div class="quiz-actions">
          <button
            *ngIf="quiz.published"
            class="action-btn view"
            [routerLink]="['/teacher/quizzes', quiz.id, 'view']"
            title="View Results">
            <span class="btn-icon">ğŸ‘ï¸</span> View
          </button>

          <button
            *ngIf="!quiz.published"
            class="action-btn edit"
            [routerLink]="['/teacher/quizzes', quiz.id, 'edit']"
            title="Edit Quiz">
            <span class="btn-icon">âœï¸</span> Edit
          </button>

          <button
            *ngIf="!quiz.published"
            class="action-btn delete"
            (click)="deleteQuiz(quiz.id)"
            title="Delete Quiz">
            <span class="btn-icon">ğŸ—‘ï¸</span>
          </button>
        </div>
      </div>

      <div class="empty-state" *ngIf="quizzes.length === 0">
        <div class="empty-icon">ğŸ“‚</div>
        <h3>No quizzes found</h3>
        <p>Try adjusting your search or create a new quiz to get started.</p>
        <button class="create-btn" routerLink="/create-quiz">+ Create Quiz</button>
      </div>

    </ng-container>

    <ng-template #loading>
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Fetching your quizzes...</p>
      </div>
    </ng-template>
  </section>
</div>